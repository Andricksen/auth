/**
 * Config source: https://git.io/JvyKy
 *
 * Feel free to let us know via PR, if you find something broken in this config
 * file.
 */

import User from 'App/Models/User'
import { AuthConfig, LucidAuthenticatable } from '@ioc:Adonis/Addons/Auth'

/*
|--------------------------------------------------------------------------
| Authenticators
|--------------------------------------------------------------------------
|
| List of available authenticators. You must first define them inside the
| `contracts/auth.ts` file before mentioning them here.
|
*/
const authConfig: AuthConfig = {
  /*
  |--------------------------------------------------------------------------
  | Session Authenticator
  |--------------------------------------------------------------------------
  |
  | The following authenticator uses the `session` driver and `lucid` provider
  | to authenticate users.
  |
  */
  session: {
    driver: 'session',
    provider: {
      /*
      |--------------------------------------------------------------------------
      | Driver
      |--------------------------------------------------------------------------
      |
      | Name of the driver in use
      |
      */
      driver: 'lucid',

      /*
      |--------------------------------------------------------------------------
      | Identifier key
      |--------------------------------------------------------------------------
      |
      | The identifier key is the unique key on the model. In most cases specifying
      | the primary key is the right choice.
      |
      */
      identifierKey: 'id',

      /*
      |--------------------------------------------------------------------------
      | Uids
      |--------------------------------------------------------------------------
      |
      | Uids are used to search a user against one of the mentioned columns. During
      | login, the auth module will search the user mentioned value against one
      | of the mentioned columns to find their user record.
      |
      */
      uids: ['email'],

      /*
      |--------------------------------------------------------------------------
      | Authenticatable
      |--------------------------------------------------------------------------
      |
      | The Authenticatable class works as a bridge between the provider and the
      | authenticator. Leave the following value as it is, until you want to
      | customize it.
      |
      */
      authenticatable: LucidAuthenticatable,

      /*
      |--------------------------------------------------------------------------
      | Model
      |--------------------------------------------------------------------------
      |
      | The model to use for fetching or finding users
      |
      */
      model: User,
    },
  },
}
